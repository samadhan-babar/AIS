<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AIS Transponder: GPS::parseSentence</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">AIS Transponder<span id="projectnumber">&#160;1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_g_p_s_af890a511d8c808d367b5e2503c0c7669.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="contents">
<a id="af890a511d8c808d367b5e2503c0c7669" name="af890a511d8c808d367b5e2503c0c7669"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af890a511d8c808d367b5e2503c0c7669">&#9670;&#160;</a></span>parseSentence()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void GPS::parseSentence </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>buff</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_g_p_s_8cpp_source.html#l00215">215</a> of file <a class="el" href="_g_p_s_8cpp_source.html">GPS.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  216</span>{</div>
<div class="line"><span class="lineno">  217</span>  <a class="code hl_class" href="class_n_m_e_a_sentence.html">NMEASentence</a> sentence (buff);</div>
<div class="line"><span class="lineno">  218</span><span class="preprocessor">#ifdef MULTIPLEXED_OUTPUT</span></div>
<div class="line"><span class="lineno">  219</span>  <a class="code hl_function" href="class_data_terminal_a3fe8de3e3009969251df13002e895c2b.html#a3fe8de3e3009969251df13002e895c2b">DataTerminal::instance</a> ().<a class="code hl_function" href="class_data_terminal_af34b936bcf3f6c5cdd9eb671f1b74a0b.html#af34b936bcf3f6c5cdd9eb671f1b74a0b">write</a> (<span class="stringliteral">&quot;NMEA&quot;</span>, buff);</div>
<div class="line"><span class="lineno">  220</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  221</span>  <a class="code hl_function" href="class_data_terminal_a3fe8de3e3009969251df13002e895c2b.html#a3fe8de3e3009969251df13002e895c2b">DataTerminal::instance</a>().<a class="code hl_function" href="class_data_terminal_af34b936bcf3f6c5cdd9eb671f1b74a0b.html#af34b936bcf3f6c5cdd9eb671f1b74a0b">write</a>(buff);</div>
<div class="line"><span class="lineno">  222</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>  <span class="keywordflow">if</span> (sentence.code ().find (<span class="stringliteral">&quot;RMC&quot;</span>) == 2)</div>
<div class="line"><span class="lineno">  225</span>    {</div>
<div class="line"><span class="lineno">  226</span>      <span class="keyword">const</span> vector&lt;string&gt; &amp;fields = sentence.fields ();</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>      <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  229</span><span class="comment">       * Sometimes the GPS indicates errors with sentences like</span></div>
<div class="line"><span class="lineno">  230</span><span class="comment">       * $GPRMC,1420$0*74\r\n</span></div>
<div class="line"><span class="lineno">  231</span><span class="comment">       * Although the sentence structure is valid, its content is not what we expect.</span></div>
<div class="line"><span class="lineno">  232</span><span class="comment">       *</span></div>
<div class="line"><span class="lineno">  233</span><span class="comment">       * TODO: Should we consider the GPS non-functioning at this point and thus prevent transmission until it recovers?</span></div>
<div class="line"><span class="lineno">  234</span><span class="comment">       */</span></div>
<div class="line"><span class="lineno">  235</span>      <span class="keywordflow">if</span> (fields.size () &lt; 10)</div>
<div class="line"><span class="lineno">  236</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span>      <span class="comment">// GPS updates arrive even with no time or fix information, so ignore them if that&#39;s the case</span></div>
<div class="line"><span class="lineno">  239</span>      <span class="keywordflow">if</span> (fields[1].length () &lt; 6 || fields[9].length () &lt; 6)</div>
<div class="line"><span class="lineno">  240</span>        {</div>
<div class="line"><span class="lineno">  241</span>          <span class="comment">// TODO: A loss of fix while the SOTDMA timer is active, MUST stop the timer</span></div>
<div class="line"><span class="lineno">  242</span>          <a class="code hl_function" href="_inc_2bsp_2bsp_8hpp_a76f55bba9291e387acee490be6bdaaf0.html#a76f55bba9291e387acee490be6bdaaf0">bsp_gps_led_off</a>();</div>
<div class="line"><span class="lineno">  243</span>          <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  244</span>        }</div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>      <span class="comment">// This is the time that corresponds to the previous PPS</span></div>
<div class="line"><span class="lineno">  248</span>      <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;timestr = fields[1].substr (0, 6);</div>
<div class="line"><span class="lineno">  249</span>      <span class="keyword">const</span> <span class="keywordtype">string</span> &amp;datestr = fields[9].substr (0, 6);</div>
<div class="line"><span class="lineno">  250</span>      <a class="code hl_variable" href="class_g_p_s_a3ae214145baea80f81aed1d2f5366cd3.html#a3ae214145baea80f81aed1d2f5366cd3">mTime</a>.tm_hour = <a class="code hl_function" href="class_utils_a76b90c1a22c91db8144d969023222878.html#a76b90c1a22c91db8144d969023222878">Utils::toInt</a> (timestr.substr (0, 2));</div>
<div class="line"><span class="lineno">  251</span>      <a class="code hl_variable" href="class_g_p_s_a3ae214145baea80f81aed1d2f5366cd3.html#a3ae214145baea80f81aed1d2f5366cd3">mTime</a>.tm_min = <a class="code hl_function" href="class_utils_a76b90c1a22c91db8144d969023222878.html#a76b90c1a22c91db8144d969023222878">Utils::toInt</a> (timestr.substr (2, 2));</div>
<div class="line"><span class="lineno">  252</span>      <a class="code hl_variable" href="class_g_p_s_a3ae214145baea80f81aed1d2f5366cd3.html#a3ae214145baea80f81aed1d2f5366cd3">mTime</a>.tm_sec = <a class="code hl_function" href="class_utils_a76b90c1a22c91db8144d969023222878.html#a76b90c1a22c91db8144d969023222878">Utils::toInt</a> (timestr.substr (4, 2));</div>
<div class="line"><span class="lineno">  253</span>      <a class="code hl_variable" href="class_g_p_s_a3ae214145baea80f81aed1d2f5366cd3.html#a3ae214145baea80f81aed1d2f5366cd3">mTime</a>.tm_mday = <a class="code hl_function" href="class_utils_a76b90c1a22c91db8144d969023222878.html#a76b90c1a22c91db8144d969023222878">Utils::toInt</a> (datestr.substr (0, 2));</div>
<div class="line"><span class="lineno">  254</span>      <a class="code hl_variable" href="class_g_p_s_a3ae214145baea80f81aed1d2f5366cd3.html#a3ae214145baea80f81aed1d2f5366cd3">mTime</a>.tm_mon = <a class="code hl_function" href="class_utils_a76b90c1a22c91db8144d969023222878.html#a76b90c1a22c91db8144d969023222878">Utils::toInt</a> (datestr.substr (2, 2)) - 1; <span class="comment">// Month is 0-based</span></div>
<div class="line"><span class="lineno">  255</span>      <a class="code hl_variable" href="class_g_p_s_a3ae214145baea80f81aed1d2f5366cd3.html#a3ae214145baea80f81aed1d2f5366cd3">mTime</a>.tm_year = 100 + <a class="code hl_function" href="class_utils_a76b90c1a22c91db8144d969023222878.html#a76b90c1a22c91db8144d969023222878">Utils::toInt</a> (datestr.substr (4, 2)); <span class="comment">// Year is 1900-based</span></div>
<div class="line"><span class="lineno">  256</span>      <a class="code hl_variable" href="class_g_p_s_aa8232178139f5b40bb49b43139aa6e2b.html#aa8232178139f5b40bb49b43139aa6e2b">mUTC</a> = mktime (&amp;<a class="code hl_variable" href="class_g_p_s_a3ae214145baea80f81aed1d2f5366cd3.html#a3ae214145baea80f81aed1d2f5366cd3">mTime</a>);</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>      <span class="comment">// Do we have a fix?</span></div>
<div class="line"><span class="lineno">  259</span>      <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_g_p_s_aa8232178139f5b40bb49b43139aa6e2b.html#aa8232178139f5b40bb49b43139aa6e2b">mUTC</a> &amp;&amp; sentence.fields()[3].length() &gt; 0 &amp;&amp; sentence.fields()[5].length() &gt; 0)</div>
<div class="line"><span class="lineno">  260</span>        {</div>
<div class="line"><span class="lineno">  261</span>          <a class="code hl_function" href="_inc_2bsp_2bsp_8hpp_a6dd7c4e7bbf5efe69a7dc323f3d5ff29.html#a6dd7c4e7bbf5efe69a7dc323f3d5ff29">bsp_gps_led_on</a>();</div>
<div class="line"><span class="lineno">  262</span>          <a class="code hl_variable" href="class_g_p_s_af62e839db55cccb5dcc7d31e17eb5170.html#af62e839db55cccb5dcc7d31e17eb5170">mLat</a> = <a class="code hl_function" href="class_utils_a9fd3c4e7fcf32277a0eed193040c62f2.html#a9fd3c4e7fcf32277a0eed193040c62f2">Utils::latitudeFromNMEA</a> (sentence.fields()[3], sentence.fields()[4]);</div>
<div class="line"><span class="lineno">  263</span>          <a class="code hl_variable" href="class_g_p_s_a02b367a9ce4c77605d0199bea461b4e2.html#a02b367a9ce4c77605d0199bea461b4e2">mLng</a> = <a class="code hl_function" href="class_utils_aa6f8cff464bb100eef97288f19826287.html#aa6f8cff464bb100eef97288f19826287">Utils::longitudeFromNMEA</a> (sentence.fields()[5], sentence.fields()[6]);</div>
<div class="line"><span class="lineno">  264</span>          <a class="code hl_variable" href="class_g_p_s_aab384bfba92f01e470ce3c946095f13f.html#aab384bfba92f01e470ce3c946095f13f">mSpeed</a> = atof(sentence.fields()[7].c_str());</div>
<div class="line"><span class="lineno">  265</span>          <a class="code hl_variable" href="class_g_p_s_a6cebaced8590337d991405cacdf7794f.html#a6cebaced8590337d991405cacdf7794f">mCOG</a> = atof(sentence.fields()[8].c_str());</div>
<div class="line"><span class="lineno">  266</span>          <a class="code hl_class" href="class_event.html">Event</a> *e = <a class="code hl_function" href="class_event_pool_a345d331d74745532e20cc0da3e9da518.html#a345d331d74745532e20cc0da3e9da518">EventPool::instance</a>().<a class="code hl_function" href="class_event_pool_ab11e60165656378fbb1a152ccde56322.html#ab11e60165656378fbb1a152ccde56322">newEvent</a>(<a class="code hl_enumvalue" href="_event_types_8h_a2628ea8d12e8b2563c32f05dc7fff6fa.html#a2628ea8d12e8b2563c32f05dc7fff6faa43f3826c1efe048efc11f5ca27dc931b">GPS_FIX_EVENT</a>);</div>
<div class="line"><span class="lineno">  267</span>          <span class="keywordflow">if</span> ( e )</div>
<div class="line"><span class="lineno">  268</span>            {</div>
<div class="line"><span class="lineno">  269</span>              <a class="code hl_class" href="class_event.html">Event</a> &amp;<span class="keyword">event</span> = *e;</div>
<div class="line"><span class="lineno">  270</span>              <span class="keyword">event</span>.<a class="code hl_variable" href="class_event_a60773858f34ac710f719a4a89e2c3f5e.html#a60773858f34ac710f719a4a89e2c3f5e">gpsFix</a>.<a class="code hl_variable" href="struct_g_p_s_fix_a3eab9d5be59e8b73c1befe62866c11fb.html#a3eab9d5be59e8b73c1befe62866c11fb">utc</a> = <a class="code hl_variable" href="class_g_p_s_aa8232178139f5b40bb49b43139aa6e2b.html#aa8232178139f5b40bb49b43139aa6e2b">mUTC</a>;</div>
<div class="line"><span class="lineno">  271</span>              <span class="keyword">event</span>.gpsFix.lat = <a class="code hl_variable" href="class_g_p_s_af62e839db55cccb5dcc7d31e17eb5170.html#af62e839db55cccb5dcc7d31e17eb5170">mLat</a>;</div>
<div class="line"><span class="lineno">  272</span>              <span class="keyword">event</span>.gpsFix.lng = <a class="code hl_variable" href="class_g_p_s_a02b367a9ce4c77605d0199bea461b4e2.html#a02b367a9ce4c77605d0199bea461b4e2">mLng</a>;</div>
<div class="line"><span class="lineno">  273</span>              <span class="keyword">event</span>.gpsFix.speed = <a class="code hl_variable" href="class_g_p_s_aab384bfba92f01e470ce3c946095f13f.html#aab384bfba92f01e470ce3c946095f13f">mSpeed</a>;</div>
<div class="line"><span class="lineno">  274</span>              <span class="keyword">event</span>.gpsFix.cog = <a class="code hl_variable" href="class_g_p_s_a6cebaced8590337d991405cacdf7794f.html#a6cebaced8590337d991405cacdf7794f">mCOG</a>;</div>
<div class="line"><span class="lineno">  275</span>              <a class="code hl_function" href="class_event_queue_a183a4bc6de3a3c08b913b0a0a336d0d4.html#a183a4bc6de3a3c08b913b0a0a336d0d4">EventQueue::instance</a>().<a class="code hl_function" href="class_event_queue_a1779e64ae6645cab47f90726f77ff340.html#a1779e64ae6645cab47f90726f77ff340">push</a> (e);</div>
<div class="line"><span class="lineno">  276</span>            }</div>
<div class="line"><span class="lineno">  277</span>        }</div>
<div class="line"><span class="lineno">  278</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  279</span>        {</div>
<div class="line"><span class="lineno">  280</span>          <a class="code hl_function" href="_inc_2bsp_2bsp_8hpp_a76f55bba9291e387acee490be6bdaaf0.html#a76f55bba9291e387acee490be6bdaaf0">bsp_gps_led_off</a>();</div>
<div class="line"><span class="lineno">  281</span>        }</div>
<div class="line"><span class="lineno">  282</span>    }</div>
<div class="line"><span class="lineno">  283</span>}</div>
<div class="ttc" id="a_event_types_8h_a2628ea8d12e8b2563c32f05dc7fff6fa_html_a2628ea8d12e8b2563c32f05dc7fff6faa43f3826c1efe048efc11f5ca27dc931b"><div class="ttname"><a href="_event_types_8h_a2628ea8d12e8b2563c32f05dc7fff6fa.html#a2628ea8d12e8b2563c32f05dc7fff6faa43f3826c1efe048efc11f5ca27dc931b">GPS_FIX_EVENT</a></div><div class="ttdeci">@ GPS_FIX_EVENT</div><div class="ttdef"><b>Definition</b> <a href="_event_types_8h_source.html#l00033">EventTypes.h:33</a></div></div>
<div class="ttc" id="a_inc_2bsp_2bsp_8hpp_a6dd7c4e7bbf5efe69a7dc323f3d5ff29_html_a6dd7c4e7bbf5efe69a7dc323f3d5ff29"><div class="ttname"><a href="_inc_2bsp_2bsp_8hpp_a6dd7c4e7bbf5efe69a7dc323f3d5ff29.html#a6dd7c4e7bbf5efe69a7dc323f3d5ff29">bsp_gps_led_on</a></div><div class="ttdeci">void bsp_gps_led_on()</div><div class="ttdef"><b>Definition</b> <a href="bsp__11__3_8cpp_source.html#l00544">bsp_11_3.cpp:544</a></div></div>
<div class="ttc" id="a_inc_2bsp_2bsp_8hpp_a76f55bba9291e387acee490be6bdaaf0_html_a76f55bba9291e387acee490be6bdaaf0"><div class="ttname"><a href="_inc_2bsp_2bsp_8hpp_a76f55bba9291e387acee490be6bdaaf0.html#a76f55bba9291e387acee490be6bdaaf0">bsp_gps_led_off</a></div><div class="ttdeci">void bsp_gps_led_off()</div><div class="ttdef"><b>Definition</b> <a href="bsp__11__3_8cpp_source.html#l00549">bsp_11_3.cpp:549</a></div></div>
<div class="ttc" id="aclass_data_terminal_a3fe8de3e3009969251df13002e895c2b_html_a3fe8de3e3009969251df13002e895c2b"><div class="ttname"><a href="class_data_terminal_a3fe8de3e3009969251df13002e895c2b.html#a3fe8de3e3009969251df13002e895c2b">DataTerminal::instance</a></div><div class="ttdeci">static DataTerminal &amp; instance()</div><div class="ttdef"><b>Definition</b> <a href="_data_terminal_8cpp_source.html#l00031">DataTerminal.cpp:31</a></div></div>
<div class="ttc" id="aclass_data_terminal_af34b936bcf3f6c5cdd9eb671f1b74a0b_html_af34b936bcf3f6c5cdd9eb671f1b74a0b"><div class="ttname"><a href="class_data_terminal_af34b936bcf3f6c5cdd9eb671f1b74a0b.html#af34b936bcf3f6c5cdd9eb671f1b74a0b">DataTerminal::write</a></div><div class="ttdeci">void write(const char *line)</div><div class="ttdef"><b>Definition</b> <a href="_data_terminal_8cpp_source.html#l00081">DataTerminal.cpp:81</a></div></div>
<div class="ttc" id="aclass_event_a60773858f34ac710f719a4a89e2c3f5e_html_a60773858f34ac710f719a4a89e2c3f5e"><div class="ttname"><a href="class_event_a60773858f34ac710f719a4a89e2c3f5e.html#a60773858f34ac710f719a4a89e2c3f5e">Event::gpsFix</a></div><div class="ttdeci">GPSFix gpsFix</div><div class="ttdef"><b>Definition</b> <a href="_events_8hpp_source.html#l00095">Events.hpp:95</a></div></div>
<div class="ttc" id="aclass_event_html"><div class="ttname"><a href="class_event.html">Event</a></div><div class="ttdef"><b>Definition</b> <a href="_events_8hpp_source.html#l00072">Events.hpp:73</a></div></div>
<div class="ttc" id="aclass_event_pool_a345d331d74745532e20cc0da3e9da518_html_a345d331d74745532e20cc0da3e9da518"><div class="ttname"><a href="class_event_pool_a345d331d74745532e20cc0da3e9da518.html#a345d331d74745532e20cc0da3e9da518">EventPool::instance</a></div><div class="ttdeci">static EventPool &amp; instance()</div><div class="ttdef"><b>Definition</b> <a href="_events_8cpp_source.html#l00055">Events.cpp:55</a></div></div>
<div class="ttc" id="aclass_event_pool_ab11e60165656378fbb1a152ccde56322_html_ab11e60165656378fbb1a152ccde56322"><div class="ttname"><a href="class_event_pool_ab11e60165656378fbb1a152ccde56322.html#ab11e60165656378fbb1a152ccde56322">EventPool::newEvent</a></div><div class="ttdeci">Event * newEvent(EventType type)</div><div class="ttdef"><b>Definition</b> <a href="_events_8cpp_source.html#l00072">Events.cpp:72</a></div></div>
<div class="ttc" id="aclass_event_queue_a1779e64ae6645cab47f90726f77ff340_html_a1779e64ae6645cab47f90726f77ff340"><div class="ttname"><a href="class_event_queue_a1779e64ae6645cab47f90726f77ff340.html#a1779e64ae6645cab47f90726f77ff340">EventQueue::push</a></div><div class="ttdeci">bool push(Event *event)</div><div class="ttdef"><b>Definition</b> <a href="_event_queue_8cpp_source.html#l00043">EventQueue.cpp:43</a></div></div>
<div class="ttc" id="aclass_event_queue_a183a4bc6de3a3c08b913b0a0a336d0d4_html_a183a4bc6de3a3c08b913b0a0a336d0d4"><div class="ttname"><a href="class_event_queue_a183a4bc6de3a3c08b913b0a0a336d0d4.html#a183a4bc6de3a3c08b913b0a0a336d0d4">EventQueue::instance</a></div><div class="ttdeci">static EventQueue &amp; instance()</div><div class="ttdef"><b>Definition</b> <a href="_event_queue_8cpp_source.html#l00028">EventQueue.cpp:28</a></div></div>
<div class="ttc" id="aclass_g_p_s_a02b367a9ce4c77605d0199bea461b4e2_html_a02b367a9ce4c77605d0199bea461b4e2"><div class="ttname"><a href="class_g_p_s_a02b367a9ce4c77605d0199bea461b4e2.html#a02b367a9ce4c77605d0199bea461b4e2">GPS::mLng</a></div><div class="ttdeci">float mLng</div><div class="ttdef"><b>Definition</b> <a href="_g_p_s_8hpp_source.html#l00073">GPS.hpp:73</a></div></div>
<div class="ttc" id="aclass_g_p_s_a3ae214145baea80f81aed1d2f5366cd3_html_a3ae214145baea80f81aed1d2f5366cd3"><div class="ttname"><a href="class_g_p_s_a3ae214145baea80f81aed1d2f5366cd3.html#a3ae214145baea80f81aed1d2f5366cd3">GPS::mTime</a></div><div class="ttdeci">struct tm mTime</div><div class="ttdef"><b>Definition</b> <a href="_g_p_s_8hpp_source.html#l00080">GPS.hpp:80</a></div></div>
<div class="ttc" id="aclass_g_p_s_a6cebaced8590337d991405cacdf7794f_html_a6cebaced8590337d991405cacdf7794f"><div class="ttname"><a href="class_g_p_s_a6cebaced8590337d991405cacdf7794f.html#a6cebaced8590337d991405cacdf7794f">GPS::mCOG</a></div><div class="ttdeci">float mCOG</div><div class="ttdef"><b>Definition</b> <a href="_g_p_s_8hpp_source.html#l00077">GPS.hpp:77</a></div></div>
<div class="ttc" id="aclass_g_p_s_aa8232178139f5b40bb49b43139aa6e2b_html_aa8232178139f5b40bb49b43139aa6e2b"><div class="ttname"><a href="class_g_p_s_aa8232178139f5b40bb49b43139aa6e2b.html#aa8232178139f5b40bb49b43139aa6e2b">GPS::mUTC</a></div><div class="ttdeci">time_t mUTC</div><div class="ttdef"><b>Definition</b> <a href="_g_p_s_8hpp_source.html#l00071">GPS.hpp:71</a></div></div>
<div class="ttc" id="aclass_g_p_s_aab384bfba92f01e470ce3c946095f13f_html_aab384bfba92f01e470ce3c946095f13f"><div class="ttname"><a href="class_g_p_s_aab384bfba92f01e470ce3c946095f13f.html#aab384bfba92f01e470ce3c946095f13f">GPS::mSpeed</a></div><div class="ttdeci">float mSpeed</div><div class="ttdef"><b>Definition</b> <a href="_g_p_s_8hpp_source.html#l00078">GPS.hpp:78</a></div></div>
<div class="ttc" id="aclass_g_p_s_af62e839db55cccb5dcc7d31e17eb5170_html_af62e839db55cccb5dcc7d31e17eb5170"><div class="ttname"><a href="class_g_p_s_af62e839db55cccb5dcc7d31e17eb5170.html#af62e839db55cccb5dcc7d31e17eb5170">GPS::mLat</a></div><div class="ttdeci">float mLat</div><div class="ttdef"><b>Definition</b> <a href="_g_p_s_8hpp_source.html#l00072">GPS.hpp:72</a></div></div>
<div class="ttc" id="aclass_n_m_e_a_sentence_html"><div class="ttname"><a href="class_n_m_e_a_sentence.html">NMEASentence</a></div><div class="ttdef"><b>Definition</b> <a href="_n_m_e_a_sentence_8hpp_source.html#l00029">NMEASentence.hpp:30</a></div></div>
<div class="ttc" id="aclass_utils_a76b90c1a22c91db8144d969023222878_html_a76b90c1a22c91db8144d969023222878"><div class="ttname"><a href="class_utils_a76b90c1a22c91db8144d969023222878.html#a76b90c1a22c91db8144d969023222878">Utils::toInt</a></div><div class="ttdeci">static int toInt(const std::string &amp;)</div><div class="ttdef"><b>Definition</b> <a href="_utils_8cpp_source.html#l00101">Utils.cpp:101</a></div></div>
<div class="ttc" id="aclass_utils_a9fd3c4e7fcf32277a0eed193040c62f2_html_a9fd3c4e7fcf32277a0eed193040c62f2"><div class="ttname"><a href="class_utils_a9fd3c4e7fcf32277a0eed193040c62f2.html#a9fd3c4e7fcf32277a0eed193040c62f2">Utils::latitudeFromNMEA</a></div><div class="ttdeci">static float latitudeFromNMEA(const string &amp;decimal, const string &amp;hemisphere)</div><div class="ttdef"><b>Definition</b> <a href="_utils_8cpp_source.html#l00109">Utils.cpp:109</a></div></div>
<div class="ttc" id="aclass_utils_aa6f8cff464bb100eef97288f19826287_html_aa6f8cff464bb100eef97288f19826287"><div class="ttname"><a href="class_utils_aa6f8cff464bb100eef97288f19826287.html#aa6f8cff464bb100eef97288f19826287">Utils::longitudeFromNMEA</a></div><div class="ttdeci">static float longitudeFromNMEA(const string &amp;decimal, const string &amp;hemisphere)</div><div class="ttdef"><b>Definition</b> <a href="_utils_8cpp_source.html#l00120">Utils.cpp:120</a></div></div>
<div class="ttc" id="astruct_g_p_s_fix_a3eab9d5be59e8b73c1befe62866c11fb_html_a3eab9d5be59e8b73c1befe62866c11fb"><div class="ttname"><a href="struct_g_p_s_fix_a3eab9d5be59e8b73c1befe62866c11fb.html#a3eab9d5be59e8b73c1befe62866c11fb">GPSFix::utc</a></div><div class="ttdeci">time_t utc</div><div class="ttdef"><b>Definition</b> <a href="_events_8hpp_source.html#l00041">Events.hpp:41</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="bsp__11__3_8cpp_source.html#l00549">bsp_gps_led_off()</a>, <a class="el" href="bsp__11__3_8cpp_source.html#l00544">bsp_gps_led_on()</a>, <a class="el" href="_n_m_e_a_sentence_8cpp_source.html#l00029">NMEASentence::code()</a>, <a class="el" href="_n_m_e_a_sentence_8cpp_source.html#l00039">NMEASentence::fields()</a>, <a class="el" href="_event_types_8h_source.html#l00033">GPS_FIX_EVENT</a>, <a class="el" href="_events_8hpp_source.html#l00095">Event::gpsFix</a>, <a class="el" href="_data_terminal_8cpp_source.html#l00031">DataTerminal::instance()</a>, <a class="el" href="_event_queue_8cpp_source.html#l00028">EventQueue::instance()</a>, <a class="el" href="_events_8cpp_source.html#l00055">EventPool::instance()</a>, <a class="el" href="_utils_8cpp_source.html#l00109">Utils::latitudeFromNMEA()</a>, <a class="el" href="_utils_8cpp_source.html#l00120">Utils::longitudeFromNMEA()</a>, <a class="el" href="_g_p_s_8hpp_source.html#l00077">mCOG</a>, <a class="el" href="_g_p_s_8hpp_source.html#l00072">mLat</a>, <a class="el" href="_g_p_s_8hpp_source.html#l00073">mLng</a>, <a class="el" href="_g_p_s_8hpp_source.html#l00078">mSpeed</a>, <a class="el" href="_g_p_s_8hpp_source.html#l00080">mTime</a>, <a class="el" href="_g_p_s_8hpp_source.html#l00071">mUTC</a>, <a class="el" href="_events_8cpp_source.html#l00072">EventPool::newEvent()</a>, <a class="el" href="_event_queue_8cpp_source.html#l00043">EventQueue::push()</a>, <a class="el" href="_utils_8cpp_source.html#l00101">Utils::toInt()</a>, <a class="el" href="_events_8hpp_source.html#l00041">GPSFix::utc</a>, and <a class="el" href="_data_terminal_8cpp_source.html#l00081">DataTerminal::write()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_g_p_s_8cpp_source.html#l00194">processLine()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_g_p_s_af890a511d8c808d367b5e2503c0c7669_af890a511d8c808d367b5e2503c0c7669_cgraph.png" border="0" usemap="#aclass_g_p_s_af890a511d8c808d367b5e2503c0c7669_af890a511d8c808d367b5e2503c0c7669_cgraph" alt=""/></div>
<map name="aclass_g_p_s_af890a511d8c808d367b5e2503c0c7669_af890a511d8c808d367b5e2503c0c7669_cgraph" id="aclass_g_p_s_af890a511d8c808d367b5e2503c0c7669_af890a511d8c808d367b5e2503c0c7669_cgraph">
<area shape="rect" title=" " alt="" coords="5,309,150,336"/>
<area shape="rect" href="bsp__11__3_8cpp_a76f55bba9291e387acee490be6bdaaf0.html#a76f55bba9291e387acee490be6bdaaf0" title=" " alt="" coords="228,5,343,32"/>
<area shape="poly" title=" " alt="" coords="78,309,87,259,107,187,123,148,142,110,167,73,196,42,212,31,215,35,199,46,171,77,147,112,128,150,112,189,92,260,83,310"/>
<area shape="rect" href="bsp__11__3_8cpp_a6dd7c4e7bbf5efe69a7dc323f3d5ff29.html#a6dd7c4e7bbf5efe69a7dc323f3d5ff29" title=" " alt="" coords="228,56,343,83"/>
<area shape="poly" title=" " alt="" coords="79,308,91,266,114,208,148,146,170,118,196,93,212,82,215,87,199,97,174,121,153,149,119,210,96,268,85,310"/>
<area shape="rect" href="class_n_m_e_a_sentence_a6e03daf35435a96a294c390a4efc9cd5.html#a6e03daf35435a96a294c390a4efc9cd5" title=" " alt="" coords="210,107,361,133"/>
<area shape="poly" title=" " alt="" coords="82,308,97,274,121,230,154,183,196,143,204,138,207,143,199,147,158,187,126,233,102,277,87,310"/>
<area shape="rect" href="class_n_m_e_a_sentence_ae380cafcb07e0b18c550978f48cbf85e.html#ae380cafcb07e0b18c550978f48cbf85e" title=" " alt="" coords="209,157,362,184"/>
<area shape="poly" title=" " alt="" coords="86,307,129,252,160,221,196,194,207,188,209,193,199,198,164,225,133,256,90,311"/>
<area shape="rect" href="class_data_terminal_a3fe8de3e3009969251df13002e895c2b.html#a3fe8de3e3009969251df13002e895c2b" title=" " alt="" coords="208,208,363,235"/>
<area shape="poly" title=" " alt="" coords="95,307,140,276,197,244,212,238,214,243,199,249,143,280,98,311"/>
<area shape="rect" href="class_event_queue_a183a4bc6de3a3c08b913b0a0a336d0d4.html#a183a4bc6de3a3c08b913b0a0a336d0d4" title=" " alt="" coords="211,259,360,285"/>
<area shape="poly" title=" " alt="" coords="135,306,212,287,214,292,136,311"/>
<area shape="rect" href="class_event_pool_a345d331d74745532e20cc0da3e9da518.html#a345d331d74745532e20cc0da3e9da518" title=" " alt="" coords="430,360,566,387"/>
<area shape="poly" title=" " alt="" coords="138,334,198,345,311,359,414,366,414,372,310,364,197,351,137,339"/>
<area shape="rect" href="class_utils_a9fd3c4e7fcf32277a0eed193040c62f2.html#a9fd3c4e7fcf32277a0eed193040c62f2" title=" " alt="" coords="203,461,368,488"/>
<area shape="poly" title=" " alt="" coords="90,335,133,389,164,420,199,447,209,453,207,457,196,452,160,424,129,393,86,338"/>
<area shape="rect" href="class_utils_aa6f8cff464bb100eef97288f19826287.html#aa6f8cff464bb100eef97288f19826287" title=" " alt="" coords="198,512,373,539"/>
<area shape="poly" title=" " alt="" coords="87,336,102,369,126,413,158,459,199,498,207,503,204,507,196,502,154,462,121,416,97,371,82,338"/>
<area shape="rect" href="class_event_pool_ab11e60165656378fbb1a152ccde56322.html#ab11e60165656378fbb1a152ccde56322" title=" " alt="" coords="214,309,357,336"/>
<area shape="poly" title=" " alt="" coords="150,320,198,320,198,325,150,325"/>
<area shape="rect" href="class_event_queue_a1779e64ae6645cab47f90726f77ff340.html#a1779e64ae6645cab47f90726f77ff340" title=" " alt="" coords="222,411,349,437"/>
<area shape="poly" title=" " alt="" coords="102,334,146,361,199,390,229,402,227,407,197,394,143,366,99,339"/>
<area shape="rect" href="class_utils_a76b90c1a22c91db8144d969023222878.html#a76b90c1a22c91db8144d969023222878" title=" " alt="" coords="245,563,326,589"/>
<area shape="poly" title=" " alt="" coords="85,336,96,377,119,435,153,496,174,524,199,549,231,565,229,570,196,553,170,528,148,499,114,437,91,379,79,337"/>
<area shape="rect" href="class_data_terminal_af34b936bcf3f6c5cdd9eb671f1b74a0b.html#af34b936bcf3f6c5cdd9eb671f1b74a0b" title=" " alt="" coords="219,613,352,640"/>
<area shape="poly" title=" " alt="" coords="83,336,92,385,112,456,128,495,147,533,171,569,199,599,207,605,204,610,196,603,167,572,142,536,123,497,107,458,87,386,78,337"/>
<area shape="rect" href="class_object_pool_a5dbf3e90e1af15475b9fbbfd4b1ebdde.html#a5dbf3e90e1af15475b9fbbfd4b1ebdde" title=" " alt="" coords="443,259,554,285"/>
<area shape="poly" title=" " alt="" coords="344,306,426,286,428,291,345,311"/>
<area shape="rect" href="class_utils_a7787204fd1ab32b5c46ecc9dcd4ea70f.html#a7787204fd1ab32b5c46ecc9dcd4ea70f" title=" " alt="" coords="455,309,541,336"/>
<area shape="poly" title=" " alt="" coords="357,320,439,320,439,325,357,325"/>
<area shape="rect" href="class_circular_queue_a59d3c58687ece5cf2786007e2a76925c.html#a59d3c58687ece5cf2786007e2a76925c" title="Pops an element from the circular queue." alt="" coords="623,259,756,285"/>
<area shape="poly" title=" " alt="" coords="554,269,608,269,608,275,554,275"/>
<area shape="rect" href="class_circular_queue_a53902e1ca611014a0c27b95c25b49c6e.html#a53902e1ca611014a0c27b95c25b49c6e" title="Checks if the circular queue is empty." alt="" coords="804,259,951,285"/>
<area shape="poly" title=" " alt="" coords="756,269,788,269,788,275,756,275"/>
<area shape="poly" title=" " alt="" coords="344,407,424,388,425,393,345,413"/>
<area shape="poly" title=" " alt="" coords="307,408,358,377,420,346,439,338,441,343,422,350,360,382,310,412"/>
<area shape="rect" href="class_event_pool_a24beccee9637c5dfc7b2db4fe4b3c571.html#a24beccee9637c5dfc7b2db4fe4b3c571" title=" " alt="" coords="421,461,575,488"/>
<area shape="poly" title=" " alt="" coords="345,435,425,455,424,460,344,441"/>
<area shape="rect" href="class_circular_queue_a1a8861e8fb473f5b5164507e84624f3d.html#a1a8861e8fb473f5b5164507e84624f3d" title="Pushes an element onto the circular queue." alt="" coords="808,436,947,463"/>
<area shape="poly" title=" " alt="" coords="349,424,792,443,792,448,349,429"/>
<area shape="rect" href="class_object_pool_aff8f96c2487da234a53c10850d7eb511.html#aff8f96c2487da234a53c10850d7eb511" title=" " alt="" coords="634,461,745,488"/>
<area shape="poly" title=" " alt="" coords="576,472,618,472,618,477,576,477"/>
<area shape="poly" title=" " alt="" coords="745,465,792,458,792,463,746,470"/>
<area shape="rect" href="class_circular_queue_a454dc438e062f8af8bb576a57b7a32a6.html#a454dc438e062f8af8bb576a57b7a32a6" title="Checks if it is safe to write to the next position." alt="" coords="999,436,1191,463"/>
<area shape="poly" title=" " alt="" coords="947,447,983,447,983,452,947,452"/>
<area shape="rect" href="bsp__11__3_8cpp_a77fd68304dd80f9b6fab808a9095c4ae.html#a77fd68304dd80f9b6fab808a9095c4ae" title=" " alt="" coords="441,613,556,640"/>
<area shape="poly" title=" " alt="" coords="352,624,425,624,425,629,352,629"/>
<area shape="rect" href="bsp__11__3_8cpp_aedd1818ab593482459d1e4e6c4938ff3.html#aedd1818ab593482459d1e4e6c4938ff3" title=" " alt="" coords="641,613,738,640"/>
<area shape="poly" title=" " alt="" coords="556,624,626,624,626,629,556,629"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_g_p_s_af890a511d8c808d367b5e2503c0c7669_af890a511d8c808d367b5e2503c0c7669_icgraph.png" border="0" usemap="#aclass_g_p_s_af890a511d8c808d367b5e2503c0c7669_af890a511d8c808d367b5e2503c0c7669_icgraph" alt=""/></div>
<map name="aclass_g_p_s_af890a511d8c808d367b5e2503c0c7669_af890a511d8c808d367b5e2503c0c7669_icgraph" id="aclass_g_p_s_af890a511d8c808d367b5e2503c0c7669_af890a511d8c808d367b5e2503c0c7669_icgraph">
<area shape="rect" title=" " alt="" coords="364,5,508,32"/>
<area shape="rect" href="class_g_p_s_a67a98ea80709a857baf2de345254eb3d.html#a67a98ea80709a857baf2de345254eb3d" title=" " alt="" coords="189,5,316,32"/>
<area shape="poly" title=" " alt="" coords="349,21,316,21,316,16,349,16"/>
<area shape="rect" href="class_g_p_s_a1f2e05a9408f81b1791c25be4e1af830.html#a1f2e05a9408f81b1791c25be4e1af830" title=" " alt="" coords="5,5,141,32"/>
<area shape="poly" title=" " alt="" coords="173,21,141,21,141,16,173,16"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_g_p_s.html">GPS</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
